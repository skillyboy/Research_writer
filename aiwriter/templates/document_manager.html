{% block title %}

{% endblock title %}

{% block content %}
<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Document Manager</title>
  <link rel="stylesheet" href="{% static '' %}css/style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <!-- FONT AWESOME    -->
  <link rel="stylesheet" href="{% static '' %}css/fontawesome.css">
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha512-qgNvEFB+oKjCkva8G0Y/13yyDZz/7ULI90mDR5B3f5m5kKjS4lBbU6oayYByzj0NUjs4/Jc4X8nsk7bUMvEqFQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<style>
  table td, table th {
    max-width: 900px; /* adjust as needed */
    white-space: nowrap; /* prevent text wrapping */
    overflow: hidden; /* hide overflow text */
    text-overflow: ellipsis; /* add ellipsis to truncated text */
  }
  #upload-section label {
    display: block;
    border: 2px solid #3498db;
    padding: 20px;
    text-align: center;
  }
  #upload-section label:hover {
    cursor: pointer;
    background-color: #3498db;
    color: #fff;
  }
  
  #upload-section label input[type=file] {
    display: none;
  }
  
  #upload-section p {
    margin-top: 10px;
  }
  
  #upload-section button {
    margin-top: 10px;
  }
  
  
    .tool form {
      display: inline-block;
      width: 100%;
      height: 100%;
      position: relative;
      z-index: 1;
    }
  
    .tool .upload-link {
      display: block;
      width: 100%;
      height: 100%;
      position: relative;
      z-index: 0;
      cursor: pointer;
      padding: 1rem; /* add some padding */
      box-sizing: border-box; /* include padding in element's total width */
    }
  
    .tool .custom-file-input {
      display: none;
    }
  
    .tool .icon i {
      font-size: 1.5rem;
    }
      .file-icons {
        display: flex;
        align-items: center;
        margin-top: 1rem;
      }
      
      .file-icons i {
        margin-right: 1rem;
      }

</style>
  <!-- Semantic UI -->
  <script src="{% static '' %}js/semantic.js" defer></script>

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.4.1/semantic.min.js"></script>
</head>
</head>
</head>
<body>
  <!-- <h1>New Project</h1> -->
  <!-- <nav class="navbar navbar-expand-lg fixed-top menu " aria-label="Fourth navbar example">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold" href="#">ProjectLogo</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample04"
        aria-controls="navbarsExample04" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarsExample04">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="#">Plans & Pricings</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Chrome Extensions</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="#">Plagiarism Credits</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="#">API</a>
          </li>
          <li class="nav-item">
            <a class="nav-link " href="#">Help Center</a>
          </li>
          <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" data-bs-toggle="dropdown" aria-expanded="false">Dropdown</a>
                <ul class="dropdown-menu">
                  <li><a class="dropdown-item" href="#">Action</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </li>
        </ul>
        <a href="" class="btn btn-primary"><i class="fas fa-plus"></i> Create Content</a>
        <button  class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#modalSignin"><i class="fas fa-plus"></i> Create Content</button>
        <img src="./img/nodp.png" alt="" width="32" height="32" class="rounded-circle mx-2 me-2">
      </div>
    </div>
  </nav> -->
  <div class="container-fluid">
    <div class="row p-2">


      <!-- SIDEBAR SECTION  -->
      <div class=" col-md-3 col-lg-2 pt-5 p-3  fixed-top side-menu">
        <a href="/" class="d-flex align-items-center mt-5 mb-md-0 me-md-auto link-dark text-decoration-none">
          <span class="fs-5">1,500 Words Left</span>
        </a>
        <hr>
        <ul class="nav nav-pills flex-column mb-auto">
          <li class="nav-item">
            <a href="index.html" class="nav-link " aria-current="page">
              <i class="fas fa-home"></i>
              Dashboard
            </a>
          </li>
          <li>
            <a href="{% url 'alltools' %}" class="nav-link link-dark">
              <i class="fas fa-gear"></i>
              All Tools
            </a>
          </li>
          <li>
            <a href="#" class="nav-link link-dark">
              <i class="fas fa-book"></i>
              My Content
            </a>
          </li>
          <hr>
          <li>
            <a href="article-generator.html" class="nav-link active">
              <i class="fas fa-scroll"></i>
              Document Manager
            </a>
          </li>
          <li>
            <a href="{% url 'collaboration' %}" class="nav-link link-dark">
              <i class="fas fa-message"></i>
              Collaborations
            </a>
          </li>
          <li>
            <a href="#" class="nav-link link-dark">
              <i class="fas fa-image"></i>
              All Images
            </a>
          </li>
          <li>
            <a href="{% url 'search_resources' %}" class="nav-link link-dark">
              <i class="fas fa-rotate"></i>
             Google Scholar
            </a>
          </li>
        </ul>
        <hr>
        <div class="dropdown">
          <a href="#" class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle"
            data-bs-toggle="dropdown" aria-expanded="false">
            <img src="./img/nodp.png" alt="" width="32" height="32" class="rounded-circle me-2">
            <strong>User</strong>
          </a>
          <ul class="dropdown-menu text-small shadow">
            <li><a class="dropdown-item" href="#">New project...</a></li>
            <li><a class="dropdown-item" href="#">Settings</a></li>
            <li><a class="dropdown-item" href="#">Profile</a></li>
            <li>
              <hr class="dropdown-divider">
            </li>
            <li><a class="dropdown-item" href="#">Sign out</a></li>
          </ul>
        </div>
      </div>


      <!-- MAIN MENU SECTION  -->
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 article-main-sect">
        <!-- <div class="container">

          <div class="row my-3">
          <div class="col-lg-10">
            <p>These are the most popular tools and a good place to start. Give them a try</p>
          </div>
        </div>
        <hr> -->

        
        <div class="row add-section">

          <!-- Upload Section -->
          <div class="col-lg-5 col-md-6 tool" id="upload-section" style="display: block; "> 
            <form method="post" enctype="multipart/form-data" id="upload-form" action="{% url 'uploadfile' %}">
              {% csrf_token %}
              <label for="document" class="upload-link">
                <span class="icon">
                  <i class="fas fa-circle-plus"></i>
                </span>
                <h4>Upload Document</h4>
                <p id="file-name">No file selected.</p>
                <input type="file" class="custom-file-input" id="document" name="file" onchange="updateFileName(this)">
                <button type="submit" id="submit-btn" style="display: none;">Submit</button>
              </label>
            </form>
            <script>
              function updateFileName(input) {
                var fileName = input.files[0].name;
                document.getElementById("file-name").innerHTML = fileName;
                document.getElementById("file-name").style.color = "green";
                document.getElementById("file-name").style.background = "lightgreen";
                document.getElementById("submit-btn").style.display = "block";
              }
            </script>
          </div>
          <!-- Google Scholar Section -->
          <div class="col-lg-5 col-md-6  tool " id="google-scholar-section" style="display: block;">
            <label for="google-scholar-search">Source Online</label>
            <form method="get" target="_blank">
              <div class="ui fluid icon input" style="background-color: #ecf0f1;">
                <i class="search icon" style="color: #2c3e50;"></i>
                <input type="text" class="form-control px-3" placeholder="Search in Google Scholar,Medpub,etc." name="q" style="border-color: #3498db;">
              </div>
              <button type="submit" class="btn btn-primary mt-3" style="background-color: #3498db;"><i class="fas fa-search" style="color: #ecf0f1;"></i> Search</button>
            </form>
          </div>
        </div>
        <br> <br> <br> 

        <!-- Dropdown SEGMENT -->
        <div class="row">
          <div class="col-lg-4 col-md-4 col-sm-12 dropdown-section">
            <div class="ui compact selection dropdown">
              <i class="dropdown icon"></i>
              <div class="default text">Select source option</div>
              <div class="menu">
                <div class="item" id="uploadedOption" data-value="uploaded" ><i class="fas fa-cloud-upload-alt"></i> Uploaded</div>
                <div class="item" id="googleScholarOption" data-value="google-scholar"><i class="fas fa-graduation-cap"></i> Google Scholar</div>
                <div class="item" data-value="group"><i class="fas fa-users"></i> Created by Group</div>
              </div>
            </div>
          </div>
          <h2 class="col-lg-4 col-md-4 col-sm-12 " style="color: #2f4862;"><u>Document List</u> </h2>
          <div class="col-lg-4 col-md-4 col-sm-12 search-section">
            <div class="ui fluid icon input">
              <i class="search icon"></i>
              <input type="text" class="form-control" placeholder="Search Document...">
            </div>
          </div>
        </div>
        

        <style>
          .ui.dropdown {
            width: 80%;
          }
          
          .ui.dropdown .menu .item i {
            margin-right: 0.5rem;
          }
          .search-section .ui{
            width: 80%;
            margin-left: auto;

          }
        </style>
        
        <script>
          $('.ui.dropdown').dropdown();
        </script>

         <br>
        <!-- uploadedDocuments -->
        <div class="container-fluid">
          <div class="row">
            <div class="col" id="uploadedDocuments"  style="height: 200px; overflow-y: scroll;">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Type</th>
                    <th scope="col">Uploader</th>
                    <th scope="col">Date Uploaded</th>
                    <th scope="col">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {% for file in files %}
                    <tr>
                      <td>{{file.title}}</td>
                      <td>  
                      {% if file.pdf %}
                        PDF <i class="fa fa-file-pdf"></i>
                      {% elif file.doc %}
                        DOCX <i class="fa fa-file-word"></i>
                      {% endif %}
                      </td>
                      <td>User 1</td>
                      <td>2022-03-01</td>
                      <td>
                        <div class="dropdown">
                          <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#uploadedModal">
                            Actions
                          </button>
                        </div>
                        <!-- Modal -->
                        <div class="modal fade" id="uploadedModal" tabindex="-1" aria-labelledby="actionsModalLabel" aria-hidden="true">
                          <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="actionsModalLabel">Actions</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <ul class="list-group">
                                    <!-- DELETE -->
                                    <form method="POST" action="{% url 'deletefile' file.id %}">
                                      {% csrf_token %}
                                      <input type="hidden" name="id" value="{{ file.id }}">
                                      <button class="buttonst-group-item"><i class="fas fa-trash"></i> Delete</li> </button>
                                    </form>                                        <hr>
                                    <!-- VIEW DOC -->
                                    {% if file.pdf %}
                                    <li class="list-group-item"><a href="{{ file.pdf.url }}"><i class="fas fa-eye"></i> View</a></li>
                                    {% elif file.doc %}
                                    <li class="list-group-item"><a href="{{ file.doc.url }}"><i class="fas fa-eye"></i> View</a></li>
                                    {% endif %}
                            
                                    <!-- DOWNLOAD -->
                                    {% if file.pdf %}
                                    <li class="list-group-item"><a href="{{ file.pdf.url }}"><i class="fas fa-download"></i> Download</a></li>
                                    {% elif file.doc %}
                                    <li class="list-group-item"><a href="{{ file.doc.url }}"><i class="fas fa-download"></i> Download</a></li>
                                    {% endif %}
                            

                                    <!-- EDIT -->
                                    {% if file.doc %}
                                    <li class="list-group-item"><a href="{% url 'editor' file.id %}"><i class="fas fa-eye"></i> Edit</a></li>
                                    {% elif file.pdf %}
                                    <!-- <li class="list-group-item"><a href="#"><i class="fas fa-edit"></i> Edit</a></li> -->
                                    {% endif %}
                                    
                                    <!-- <form method="POST" action="{% url 'duplicate_file' file.id %}">
                                      {% csrf_token %}
                                      <button class="buttonst-group-item"><i class="fas fa-copy"></i> Duplicate</li> </button>
                                    </form>   -->

                                    <li class="list-group-item"><a href="#"><i class="fas fa-copy"></i> Duplicate</a></li>
                                    <li class="list-group-item"><a href="#"><i class="fas fa-print"></i> Print</a></li>
                                </ul>
                            </div>
                            
                          </div>
                        </div>
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>

            <!-- googleScholarDocuments -->
            <div class="col" id="googleScholarDocuments"style="height: 200px; overflow-y: scroll;">
              <table class="table">
                <thead>
                  <tr>
                    <th scope="col">Name</th>
                    <th scope="col">Type</th>
                    <th scope="col">Uploader</th>
                    <th scope="col">Date Uploaded</th>
                    <th scope="col">Actions</th>
                  </tr>
                </thead>
                <tbody>
                  {% for file in files %}
                    <tr>
                      <td>SCHOLAR DOCUMENT</td>
                      <td>  
                      {% if file.pdf %}
                        PDF <i class="fa fa-file-pdf"></i>
                      {% elif file.doc %}
                        DOCX <i class="fa fa-file-word"></i>
                      {% endif %}
                      </td>
                      <td>User 1</td>
                      <td>2022-03-01</td>
                      <td>
                        <div class="dropdown">
                          <button class="btn btn-sm btn-outline-secondary" type="button" data-bs-toggle="modal" data-bs-target="#actionsModal">
                            Actions
                          </button>
                        </div>
                        <!-- Modal -->
                        <div class="modal fade" id="actionsModal" tabindex="-1" aria-labelledby="actionsModalLabel" aria-hidden="true">
                          <div class="modal-dialog  modal-dialog-centered modal-dialog-scrollable">
                            <div class="modal-content">
                              <div class="modal-header">
                                <h5 class="modal-title" id="actionsModalLabel">Actions</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                              </div>
                              <div class="modal-body">
                                <ul class="list-group">
                            
                                    <!-- DELETE -->
                                    <form method="POST" action="{% url 'deletefile' file.id %}">
                                      {% csrf_token %}
                                      <input type="hidden" name="id" value="{{ file.id }}">
                                      <button class="buttonst-group-item"><i class="fas fa-trash"></i> Delete</li> </button>
                                    </form>
                                        <hr>
                                    <!-- VIEW DOC -->
                                    {% if file.pdf %}
                                    <li class="list-group-item"><a href="{{ file.pdf.url }}"><i class="fas fa-eye"></i> View</a></li>
                                    {% elif file.doc %}
                                    <li class="list-group-item"><a href="{{ file.doc.url }}"><i class="fas fa-eye"></i> View</a></li>
                                    {% endif %}
                            
                                    <!-- DOWNLOAD -->
                                    {% if file.pdf %}
                                    <li class="list-group-item"><a href="{{ file.pdf.url }}"><i class="fas fa-download"></i> Download</a></li>
                                    {% elif file.doc %}
                                    <li class="list-group-item"><a href="{{ file.doc.url }}"><i class="fas fa-download"></i> Download</a></li>
                                    {% endif %}


                                    <!-- EDIT -->
                                    {% if file.doc %}
                                    <li class="list-group-item"><a href="{% url 'editor' file.id %}"><i class="fas fa-eye"></i> Edit</a></li>
                                    {% elif file.pdf %}
                                    <!-- <li class="list-group-item"><a href="#"><i class="fas fa-edit"></i> Edit</a></li> -->
                                    {% endif %}
                                                                
                                    <li class="list-group-item"><a href="#"><i class="fas fa-copy"></i> Duplicate</a></li>
                                    <li class="list-group-item"><a href="#"><i class="fas fa-print"></i> Print</a></li>
                                </ul>
                            </div>
                          </div>
                        </div>
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>

          </div>
        </div>
        <script>
          // Get references to the dropdown and document iterations
          const documentTypeDropdown = document.getElementById('documentTypeDropdown');
          const uploadedDocuments = document.getElementById('uploadedDocuments');
          const googleScholarDocuments = document.getElementById('googleScholarDocuments');
          // Show PDF container by default
          uploadedDocuments.style.display = 'block';
          googleScholarDocuments.style.display = 'none';

          // Add event listeners to the dropdown options
          document.getElementById('uploadedOption').addEventListener('click', showUploadedDocuments);
          document.getElementById('googleScholarOption').addEventListener('click', showGoogleScholarDocuments);

          // Function to show the uploaded document iteration and hide the Google Scholar iteration
          function showUploadedDocuments() {
            uploadedDocuments.style.display = 'block';
            googleScholarDocuments.style.display = 'none';
            documentTypeDropdown.innerHTML = 'Uploaded';
          }

          // Function to show the Google Scholar document iteration and hide the uploaded iteration
          function showGoogleScholarDocuments() {
            uploadedDocuments.style.display = 'none';
            googleScholarDocuments.style.display = 'block';
            documentTypeDropdown.innerHTML = 'Google Scholar';
          }
        </script>

      <div class="row menu-button fixed-bottom">
        <button class="btn btn-primary shadow ">Click to view Menu <i class="fas fa-chevron-up"></i></button>
      </div>

      </main>
    </div>
  </div>




  <script src="{% static '' %}js/bootstrap.bundle.min.js"></script>
  <script src="{% static '' %}js/script.js"></script>
</body>

</html>

{% endblock content %}
